<!DOCTYPE html>
<html lang="en">
  <%- include("head.ejs", {title: "Levels"}) %>
  <body>
    <%- include("navbar.ejs") %>

    <style>
      form .input input {
        width: 500px;
      }

      form .half {
        width: 500px;
        display: flex;
        justify-content: space-between;
        margin-top: -20px;
      }

      form .half .input {
        width: 45%;
      }

      form .half .input input {
        width: 100%;
      }

      table {
        width: 100%;
        border-collapse: collapse;
      }

      thead tr {
        font-size: 1.1rem;
        font-family: "Sen", -apple-system, BlinkMacSystemFont, "Segoe UI",
          Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue",
          sans-serif;
        text-transform: uppercase;
      }

      td {
        border: none;
      }

      thead tr td {
        background: #2977f5;
        color: #eaeaef;
      }

      thead tr td:first-of-type {
        border-radius: 5px 0 0 0;
      }

      thead tr td:last-of-type {
        border-radius: 0 5px 0 0;
      }

      tbody tr:last-of-type td:first-of-type {
        border-radius: 0 0 0 5px;
      }

      tbody tr:last-of-type td:last-of-type {
        border-radius: 0 0 5px 0;
      }

      tbody tr:nth-child(odd) {
        background: #333;
      }

      td {
        padding: 15px 20px;
        text-align: center;
      }

      td:nth-child(1) {
        width: 5%;
      }
      td:nth-child(2) {
        width: 30%;
      }
      td:nth-child(3) {
        width: 30%;
      }
      td:nth-child(4) {
        width: 15%;
      }
      td:nth-child(5) {
        width: 10%;
      }
      td:nth-child(6) {
        width: 10%;
      }

      td:last-child a {
        padding: 10px 15px;
        border: none;
        border-radius: 3px;
        cursor: pointer;
        transition: background 0.3s ease;
      }
      td:last-child a:hover {
        background: #2977f510;
      }
    </style>

    <div class="body-container">
      <table>
        <thead>
          <tr>
            <td></td>
            <td>Question</td>
            <td>Source Hint</td>
            <td>Answer</td>
            <td>Points</td>
            <td></td>
          </tr>
        </thead>
        <tbody>
          <% for(let i = 0; i < levels.length; i++) { %>
          <tr>
            <td><%- i + 1 %></td>
            <td><%- levels[i].question %></td>
            <td><%- levels[i].sourceHint %></td>
            <td><%- levels[i].answer %></td>
            <td><%- levels[i].points %></td>
            <td>
              <a href="/levels/<%- levels[i].id %>?l=<%- i + 1 %>">Edit</a>
            </td>
          </tr>
          <% } %>
        </tbody>
      </table>

      <div class="new" style="margin-top: 50px;">
        <h2>New Level</h2>
        <form action="/levels/new" method="post">
          <input type="hidden" name="_csrf" value="<%- csrfToken %>" />
          <div class="input">
            <label for="question">Question</label>
            <input type="text" placeholder="Who is our God?" name="question" />
          </div>
          <div class="input">
            <label for="sourceHint">Source Hint</label>
            <input type="text" placeholder="darthfire" name="sourceHint" />
          </div>
          <div class="half">
            <div class="input">
              <label for="answer">Answer</label>
              <input type="text" placeholder="aaryakgarg" name="answer" />
            </div>
            <div class="input">
              <label for="points">Points</label>
              <input type="text" placeholder="10000000000" name="points" />
            </div>
          </div>

          <button type="submit">Add</button>
        </form>
      </div>
    </div>

    <%- include("footer.ejs") %>
  </body>
</html>
